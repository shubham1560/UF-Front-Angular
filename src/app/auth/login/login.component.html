<mat-progress-bar color="warn" *ngIf="signingIn" mode="indeterminate"></mat-progress-bar>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-5">
            <div class="uf-auth-wrapper" id="auth-login">
                <div class="uf-auth-form">
                    <div class="uf-auth-logo-space"></div>
                    <div class="uf-auth-form-header">SIGN IN TO SORTEDTREE</div>
            
                    <div class="uf-auth-form-body" *ngIf="isLoggedIn">
                        <p style="text-align: center;">
                            Already Logged in
                        </p>
                    </div>
            
                    <div class="uf-auth-form-body" *ngIf="!isLoggedIn">
                        <div>
                            <button id="googleBtn" mat-button class="uf-googlelogin" (click)="signInWithGoogle()">
                                <div style="padding-top: 5px; float: left;">
                                    <img height="25px" style="vertical-align: baseline;" src="assets/gl.png" />
                                </div>
                                Continue with google
                            </button>
                        </div>
            
                        <div>
                            <button (click)="signInWithFB()" mat-button class="uf-googlelogin" style="color: #425051;">
                                <div style="padding-top: 5px; float: left;">
                                    <img height="25px" style="vertical-align: baseline;" src="assets/fb.png" />
                                </div>
                                Continue with Facebook
                            </button>
                        </div>
            
                        <form novalidate (ngSubmit)="login()" [formGroup]="loginForm">
                            <mat-form-field appearance="outline" class="uf-auth-input-block">
                                <mat-label>Email</mat-label>
                                <input matInput type="email" id="email" formControlName="email" placeholder="Enter Email">
                                <mat-icon matSuffix style="margin: 0px 8px;">account_box</mat-icon>
                                <mat-error>Please enter a valid email address</mat-error>
                            </mat-form-field>
                            <mat-form-field appearance="outline" class="uf-auth-input-block">
                                <mat-label>Password</mat-label>
                                <input matInput [type]="hide ? 'password' : 'text'" formControlName="password">
                                <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                                    [attr.aria-pressed]="hide">
                                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                                </button>
                                <mat-error>Password(minimum length is 8)</mat-error>
                            </mat-form-field>
                            <div class="uf-auth-form-footer error" *ngIf="signInFailure">
                                {{errorMessage}}
                            </div>
                            <div class="uf-auth-buttons-div">
                                <button class="uf-auth-left-button" mat-button color="primary"
                                    routerLink="/auth/passwordreset">Forgot
                                    Password</button>
                                <button class="uf-auth-right-button" mat-raised-button color="primary" type="submit"
                                    [title]="loginForm.valid?'login': 'Please enter a valid email and password'"
                                    [disabled]='!loginForm.valid || signingIn'>
            
                                    <span *ngIf="!signingIn">Sign in</span>
                                    <span *ngIf="signingIn">.....</span>
                                    <mat-icon matSuffix style="margin: 0px 8px;">login</mat-icon>
            
                                </button>
                            </div>
                            <br>
                            <!-- <mat-progress-bar mode="indeterminate" *ngIf="signingIn"></mat-progress-bar> -->
                        </form>
                    </div>
            
                    <br>
                    <div class="uf-auth-form-footer ">
                        No Account? <a style="text-decoration: none;" color="primary" routerLink="/auth/register"> Create One</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-7 d-none d-sm-none d-md-block" style="padding-left: 0px; padding-right: 0;">
            
            <app-rightpanel></app-rightpanel>

        </div>
    </div>
</div>
